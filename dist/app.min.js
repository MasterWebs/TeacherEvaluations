angular.module("EvalApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/login",{templateUrl:"views/login.html",controller:"LoginController"}).otherwise({redirectTo:"/login"})}]),angular.module("EvalApp").constant("SERVER_URL","http://dispatch.ru.is/h22/api/v1/"),angular.module("EvalApp").controller("LoginController",["$scope","$location","$rootScope","$routeParams","LoginResource",function(a,b,c,d,e){a.user="",a.pass="",a.login=function(){""!==a.user&&""!==a.pass?e.login(a.user,a.pass):""===a.user&&""===a.pass?toastr.error("Username and password cannot be empty!","Login error"):""===a.user?toastr.error("Username cannot be empty!","Login error"):toastr.error("Password cannot be empty!","Login error")}}]),angular.module("EvalApp").factory("LoginResource",["$http","SERVER_URL",function(a,b){var c,d;return{login:function(c,d){var e={user:c,pass:d};console.log("loginObj"+e),a.post(b+"login",e).success(function(a){console.log("login success, data:"+a)}).error(function(){console.log("login unsuccessful")})},logout:function(){},isLoggedIn:function(){},currentUser:function(){return c},getToken:function(){return d}}}]);