angular.module("EvalApp",["ngRoute"]).config(["$routeProvider",function(a){a.when("/login",{templateUrl:"views/login.html",controller:"LoginController"}).otherwise({redirectTo:"/login"})}]),angular.module("EvalApp").constant("SERVER_URL","http://dispatch.ru.is/h22/api/v1/"),angular.module("EvalApp").controller("LoginController",function(a,b,c){a.user="",a.pass="",a.login=function(){if(""!==a.user&&""!==a.pass){var d=b.login(a.user,a.pass);d>0?c.success(b.user+" logged in!"):c.error("Could not be logged in!","Login error")}else c.error("Username or password empty!","Login error")}}),angular.module("EvalApp").factory("LoginResource",["$http","SERVER_URL",function(a,b){var c,d,e;return{login:function(c,f){var g={user:c,pass:f};console.log("loginObj: "+JSON.stringify(g)),a.post(b+"login",g).success(function(a){return d=a.Token,c=a.Username,e=a.Role,1}).error(function(){return console.log("login unsuccessful"),-1})},logout:function(){},isLoggedIn:function(){},currentUser:function(){return c},getToken:function(){return d},getRole:function(){return e}}}]);